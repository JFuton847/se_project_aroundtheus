!function(){"use strict";class e{constructor(e,t,s){let{name:n,link:r}=e;this._name=n,this._link=r,this._cardSelector=t,this._handleImageClick=s}_setEventListeners(){this._cardElement.querySelector(".card__like-button").addEventListener("click",(()=>{this._handleLikeIcon()})),this._cardElement.querySelector(".card__delete-button").addEventListener("click",(()=>{this._handleDeleteCard()})),this._cardImageEl.addEventListener("click",(()=>{this._handleImageClick(this._name,this._link)}))}_handleLikeIcon(){this._cardElement.querySelector(".card__like-button").classList.toggle("card__like-button_active")}_handleDeleteCard(){this._cardElement.remove(),this._cardElement=null}getView(){return this._cardElement=document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0),this._cardImageEl=this._cardElement.querySelector(".card__image"),this._cardImageEl.src=this._link,this._cardImageEl.alt=this._name,this._cardTitleEl=this._cardElement.querySelector(".card__title"),this._cardTitleEl.textContent=this._name,this._setEventListeners(),this._cardElement}}class t{constructor(e,t){this._formEl=e,this._formSelector=t.formSelector,this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass}_checkInputValidity(e){if(!e.validity.valid)return this._showInputError(e);this._hideInputError(e)}_hideInputError(e){const t=this._formEl.querySelector(`#${e.id}-error`);e.classList.remove(this._inputErrorClass),t.textContent="",t.classList.remove(this._errorClass)}_showInputError(e){const t=this._formEl.querySelector(`#${e.id}-error`);e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}_hasInvalidInput(){return this._inputEls.some((e=>!e.validity.valid))}_toggleButtonState(){this._hasInvalidInput()?this.disableButton():this._enableButton()}disableButton(){this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0}_enableButton(){this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1}_setEventListeners(){this._inputEls=[...this._formEl.querySelectorAll(this._inputSelector)],this._submitButton=this._formEl.querySelector(this._submitButtonSelector),this._inputEls.forEach((e=>{e.addEventListener("input",(t=>{this._checkInputValidity(e),this._toggleButtonState()}))})),this._toggleButtonState()}enableValidation(){this._formEl.addEventListener("submit",(e=>{e.preventDefault(),this.disableButton()})),this._setEventListeners()}}class s{constructor(e){this._popupElement=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this)}open(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose(e){"Escape"===e.key&&this.close()}setEventListeners(){this._popupElement.addEventListener("mousedown",(e=>{(e.target.classList.contains("modal_opened")||e.target.classList.contains("modal__close-button"))&&this.close()}))}}var n=class extends s{constructor(e,t){super(e),this._popupForm=this._popupElement.querySelector(".modal__form"),this._handleFormSubmit=t,this._inputList=this._popupForm.querySelectorAll(".modal__form-input")}_getInputValues(){const e={};return this._inputList.forEach((t=>{e[t.name]=t.value})),e}setEventListeners(){this._popupForm.addEventListener("submit",(e=>{e.preventDefault();const t=this._getInputValues();this._handleFormSubmit(t),this._popupForm.reset(),this.close()})),super.setEventListeners()}};const r={inputSelector:".modal__form-input",submitButtonSelector:".modal__save-button",inactiveButtonClass:"modal__save-button_disabled",inputErrorClass:"modal__form-input_type_error",errorClass:"modal__error_visible"};document.querySelector(".profile__name"),document.querySelector(".profile__title");const o=document.querySelector("#profile-name-input"),i=(document.querySelector("#image-url-input"),document.querySelector("#profile-title-input")),l=document.querySelector("#profile-edit-modal"),a=l.querySelector("#profile-modal-form"),c=document.querySelector("#add-card-modal"),u=c.querySelector("#add-card-form"),d=(document.querySelector(".cards"),document.querySelector("#card-template").content.firstElementChild,u.querySelector("#card-title-input"),u.querySelector("#image-url-input"),document.querySelectorAll(".modal"),document.querySelector("#profile-edit-button"),l.querySelector("#profile-edit-close-button"),document.querySelector(".profile__add-button")),m=(c.querySelector("#add-card-close-button"),document.querySelector("#preview-image-close-button"),new n("#profile-edit-modal",(e=>{S.setUserInfo({name:e.name,title:e.title}),m.close()})));d.addEventListener("click",(()=>h.open())),document.querySelector("#profile-edit-button").addEventListener("click",(()=>{const{name:e,title:t}=S.getUserInfo();o.value=e,i.value=t,m.open()}));const _=new t(a,r);new t(u,r).enableValidation(),_.enableValidation();const h=new n("#add-card-modal",(e=>{const t=f({name:e.title,link:e.url});v.addItem(t)}));h.setEventListeners(),m.setEventListeners();const p=new class extends s{constructor(e){super(e),this._image=this._popupElement.querySelector("#modal-image"),this._caption=this._popupElement.querySelector("#modal-preview-image-title")}open(e){this._image.src=e.link,this._image.alt=e.name,this._caption.textContent=e.name,super.open()}}("#preview-image-modal");function E(e,t){p.open({name:e,link:t})}p.setEventListeners();const S=new class{constructor(e){let{profileNameSelector:t,titleSelector:s}=e;this._profileName=document.querySelector(t),this._profileTitle=document.querySelector(s)}getUserInfo(){return{name:this._profileName.textContent,title:this._profileTitle.textContent}}setUserInfo(e){let{name:t,title:s}=e;this._profileName.textContent=t,this._profileTitle.textContent=s}}({profileNameSelector:".profile__name",titleSelector:".profile__title"});function f(t){return new e(t,"#card-template",E).getView()}const v=new class{constructor(e,t){let{items:s,renderer:n}=e;this._items=s,this._renderer=n,this._container=document.querySelector(t)}renderItems(){this._items.forEach((e=>{this._renderer(e)}))}addItem(e){this._container.prepend(e)}}({items:[{name:"Yosemite Valley",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/yosemite.jpg"},{name:"Lake Louise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lake-louise.jpg"},{name:"Bald Mountains",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/bald-mountains.jpg"},{name:"Latemar",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/latemar.jpg"},{name:"Vanoise National Park",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/vanoise.jpg"},{name:"Lago",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lago.jpg"}],renderer:function(e){const t=f(e);v.addItem(t)}},".cards");v.renderItems()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UixDQUNFRCxLQUFNLGNBQ05DLEtBQU0seUdBRVIsQ0FDRUQsS0FBTSxpQkFDTkMsS0FBTSw0R0FFUixDQUNFRCxLQUFNLFVBQ05DLEtBQU0scUdBRVIsQ0FDRUQsS0FBTSx3QkFDTkMsS0FBTSxxR0FFUixDQUNFRCxLQUFNLE9BQ05DLEtBQU0sbUdDOEV5QzBILFNBRW5ELFNBQWtCSCxHQUNoQixNQUFNZCxFQUFjQyxFQUFXYSxHQUMvQlgsRUFBUUMsUUFBUUosRUFDbEIsR0FMK0QsVUFPL0RHLEVBQVFrQixhIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdHJpcGxldGVuLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly90cmlwbGV0ZW4vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3RyaXBsZXRlbi8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3RyaXBsZXRlbi8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vdHJpcGxldGVuLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly90cmlwbGV0ZW4vLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdHJpcGxldGVuLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vdHJpcGxldGVuLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vdHJpcGxldGVuLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IoeyBuYW1lLCBsaW5rIH0sIGNhcmRTZWxlY3RvciwgaGFuZGxlSW1hZ2VDbGljaykge1xuICAgIHRoaXMuX25hbWUgPSBuYW1lO1xuICAgIHRoaXMuX2xpbmsgPSBsaW5rO1xuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcbiAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrID0gaGFuZGxlSW1hZ2VDbGljaztcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICAvL1wiLmNhcmRfX2xpa2UtYnV0dG9uXCJcbiAgICB0aGlzLl9jYXJkRWxlbWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIilcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9oYW5kbGVMaWtlSWNvbigpO1xuICAgICAgfSk7XG4gICAgLy9cIi5jYXJkX19kZWxldGUtYnV0dG9uXCJcbiAgICB0aGlzLl9jYXJkRWxlbWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fZGVsZXRlLWJ1dHRvblwiKVxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNhcmQoKTtcbiAgICAgIH0pO1xuICAgIC8vIFRPRE8gLSBhZGQgbGlzdGVuZXIgZm9yIGltYWdlIGVsZW1lbnRcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayh0aGlzLl9uYW1lLCB0aGlzLl9saW5rKTtcbiAgICB9KTtcbiAgfVxuXG4gIF9oYW5kbGVMaWtlSWNvbigpIHtcbiAgICB0aGlzLl9jYXJkRWxlbWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIilcbiAgICAgIC5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xuICB9XG5cbiAgX2hhbmRsZURlbGV0ZUNhcmQoKSB7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQucmVtb3ZlKCk7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSBudWxsO1xuICB9XG5cbiAgZ2V0VmlldygpIHtcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIilcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgLy8gVE9ETyBpbnNlcnQgdGhlIHNyYywgYWx0IHRleHQsIGFuZCB0ZXh0IGNvbnRlbnQgLSBET05FXG4gICAgdGhpcy5fY2FyZEltYWdlRWwgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xuICAgIHRoaXMuX2NhcmRJbWFnZUVsLnNyYyA9IHRoaXMuX2xpbms7XG4gICAgdGhpcy5fY2FyZEltYWdlRWwuYWx0ID0gdGhpcy5fbmFtZTtcbiAgICB0aGlzLl9jYXJkVGl0bGVFbCA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGl0bGVcIik7XG4gICAgdGhpcy5fY2FyZFRpdGxlRWwudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xuXG4gICAgLy8gc2V0IGV2ZW50IGxpc3RlbmVycyxcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICAgIC8vIFRPRE8gcmV0dXJuIHRoZSBjYXJkXG4gICAgcmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50O1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoZm9ybUVsZW1lbnQsIHNldHRpbmdzKSB7XG4gICAgLy8gYXNzaWduIHRoaW5nIHRvIHRoaXMgb2JqZWN0XG4gICAgdGhpcy5fZm9ybUVsID0gZm9ybUVsZW1lbnQ7XG4gICAgLy8gdGhpcy5fc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgICB0aGlzLl9mb3JtU2VsZWN0b3IgPSBzZXR0aW5ncy5mb3JtU2VsZWN0b3I7XG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IHNldHRpbmdzLmlucHV0U2VsZWN0b3I7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBzZXR0aW5ncy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gc2V0dGluZ3MuaW5hY3RpdmVCdXR0b25DbGFzcztcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBzZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3M7XG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IHNldHRpbmdzLmVycm9yQ2xhc3M7XG4gIH1cblxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWwpIHtcbiAgICBpZiAoIWlucHV0RWwudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbCk7XG4gICAgfVxuICB9XG5cbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWwpIHtcbiAgICBjb25zdCBlcnJvck1lc3NhZ2VFbCA9IHRoaXMuX2Zvcm1FbC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsLmlkfS1lcnJvcmApO1xuICAgIGlucHV0RWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yTWVzc2FnZUVsLnRleHRDb250ZW50ID0gXCJcIjtcbiAgICBlcnJvck1lc3NhZ2VFbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICB9XG5cbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWwpIHtcbiAgICBjb25zdCBlcnJvck1lc3NhZ2VFbCA9IHRoaXMuX2Zvcm1FbC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsLmlkfS1lcnJvcmApO1xuICAgIGlucHV0RWwuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yTWVzc2FnZUVsLnRleHRDb250ZW50ID0gaW5wdXRFbC52YWxpZGF0aW9uTWVzc2FnZTtcbiAgICBlcnJvck1lc3NhZ2VFbC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICB9XG5cbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcbiAgICByZXR1cm4gdGhpcy5faW5wdXRFbHMuc29tZSgoaW5wdXRFbCkgPT4gIWlucHV0RWwudmFsaWRpdHkudmFsaWQpO1xuICB9XG5cbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xuICAgICAgdGhpcy5kaXNhYmxlQnV0dG9uKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2VuYWJsZUJ1dHRvbigpO1xuICAgIH1cbiAgfVxuXG4gIGRpc2FibGVCdXR0b24oKSB7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgfVxuXG4gIF9lbmFibGVCdXR0b24oKSB7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5faW5wdXRFbHMgPSBbLi4udGhpcy5fZm9ybUVsLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcildO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX2Zvcm1FbC5xdWVyeVNlbGVjdG9yKHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcbiAgICB0aGlzLl9pbnB1dEVscy5mb3JFYWNoKChpbnB1dEVsKSA9PiB7XG4gICAgICBpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoZSkgPT4ge1xuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbCk7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gIH1cblxuICAvLyBfY2xlYXJGb3JtRmllbGRzKCkge1xuICAvLyAgIHRoaXMuX2lucHV0RWxzLmZvckVhY2goKGlucHV0RWwpID0+IHtcbiAgLy8gICAgIGlucHV0RWwudmFsdWUgPSBcIlwiO1xuICAvLyAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbCk7XG4gIC8vICAgfSk7XG4gIC8vIH1cblxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX2Zvcm1FbC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5kaXNhYmxlQnV0dG9uKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICAgIC8vIGxvb2sgZm9yIGFsbCBpbnB1dHMgaW5zaWRlIG9mIGZvcm1cbiAgICAvLyBsb29wIHRocm91Z2ggYWxsIHRoZSBpbnB1dHMgdG8gc2VlIGlmIGFsbCBhcmUgdmFsaWRcbiAgICAvLyBpZiBpbnB1dCBub3QgdmFsaWRcbiAgICAvLyBnZXQgdGhlIHZhbGlkYXRpb24gbXNnXG4gICAgLy8gYWRkIGVycm9yIGNsYXNzIHRvIGlucHV0XG4gICAgLy8gZGlzcGxheSBlcnJvciBtc2dcbiAgICAvLyBkaXNhYmxlIGJ1dHRvblxuICAgIC8vIGlmIGFsbCBpbnB1dHMgYXJlIHZhbGlkXG4gICAgLy8gcmVzZXQgZXJyb3IgbXNnc1xuICAgIC8vIH0pO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgLy8gb3BlbnMgcG9wdXBcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm1vZGFsX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICAvLyBjbG9zZXMgcG9wdXBcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XG4gICAgLy9saXN0ZW5zIGZvciBlc2MgYnV0dG9uXG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICAvLyBTZXRzIGV2ZW50IGxpc3RlbmVyc1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIChldnQpID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbF9vcGVuZWRcIikgfHxcbiAgICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbF9fY2xvc2UtYnV0dG9uXCIpXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsX19mb3JtLWlucHV0XCIpO1xuICB9XG5cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIGNvbnN0IGZvcm1WYWx1ZXMgPSB7fTtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGZvcm1WYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gZm9ybVZhbHVlcztcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3BvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNvbnN0IGZvcm1EYXRhID0gdGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKTtcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQoZm9ybURhdGEpO1xuICAgICAgdGhpcy5fcG9wdXBGb3JtLnJlc2V0KCk7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfSk7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIC8vIGNsb3NlKCkge1xuICAvLyAgIHN1cGVyLmNsb3NlKCk7XG4gIC8vIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUG9wdXBXaXRoRm9ybTtcbiIsImV4cG9ydCBjb25zdCBpbml0aWFsQ2FyZHMgPSBbXG4gIHtcbiAgICBuYW1lOiBcIllvc2VtaXRlIFZhbGxleVwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC95b3NlbWl0ZS5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTGFrZSBMb3Vpc2VcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGFrZS1sb3Vpc2UuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkJhbGQgTW91bnRhaW5zXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2JhbGQtbW91bnRhaW5zLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJMYXRlbWFyXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xhdGVtYXIuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIlZhbm9pc2UgTmF0aW9uYWwgUGFya1wiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC92YW5vaXNlLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJMYWdvXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xhZ28uanBnXCIsXG4gIH0sXG5dO1xuXG5leHBvcnQgY29uc3QgdmFsaWRhdGlvblNldHRpbmdzID0ge1xuICBpbnB1dFNlbGVjdG9yOiBcIi5tb2RhbF9fZm9ybS1pbnB1dFwiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX3NhdmUtYnV0dG9uXCIsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwibW9kYWxfX3NhdmUtYnV0dG9uX2Rpc2FibGVkXCIsXG4gIGlucHV0RXJyb3JDbGFzczogXCJtb2RhbF9fZm9ybS1pbnB1dF90eXBlX2Vycm9yXCIsXG4gIGVycm9yQ2xhc3M6IFwibW9kYWxfX2Vycm9yX3Zpc2libGVcIixcbn07XG4iLCJpbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XG5pbXBvcnQgUG9wdXAgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXAuanNcIjtcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XG5pbXBvcnQgXCIuLi9wYWdlcy9pbmRleC5jc3NcIjtcbmltcG9ydCB7IGluaXRpYWxDYXJkcywgdmFsaWRhdGlvblNldHRpbmdzIH0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xuXG4vL1Rlc3QgVGV4dCBGb3IgUHJvamVjdCA5IENoYW5nZXMqKlxuXG4vLyBNb2RhbHNcbmNvbnN0IHByb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19uYW1lXCIpO1xuY29uc3QgcHJvZmlsZVRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX190aXRsZVwiKTtcbmNvbnN0IHByb2ZpbGVOYW1lSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtbmFtZS1pbnB1dFwiKTtcbmNvbnN0IGltYWdlVXJsSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2ltYWdlLXVybC1pbnB1dFwiKTtcbmNvbnN0IHByb2ZpbGVUaXRsZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLXRpdGxlLWlucHV0XCIpO1xuY29uc3QgcHJvZmlsZUVkaXRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1lZGl0LW1vZGFsXCIpO1xuY29uc3QgcHJvZmlsZUVkaXRGb3JtID0gcHJvZmlsZUVkaXRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtbW9kYWwtZm9ybVwiKTtcbmNvbnN0IGFkZENhcmRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkLWNhcmQtbW9kYWxcIik7XG5jb25zdCBhZGRDYXJkRm9ybSA9IGFkZENhcmRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiI2FkZC1jYXJkLWZvcm1cIik7XG5jb25zdCBjYXJkTGlzdEVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc1wiKTtcbmNvbnN0IGNhcmRUZW1wbGF0ZSA9XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZC10ZW1wbGF0ZVwiKS5jb250ZW50LmZpcnN0RWxlbWVudENoaWxkO1xuY29uc3QgY2FyZFRpdGxlSW5wdXQgPSBhZGRDYXJkRm9ybS5xdWVyeVNlbGVjdG9yKFwiI2NhcmQtdGl0bGUtaW5wdXRcIik7XG5jb25zdCBjYXJkVXJsSW5wdXQgPSBhZGRDYXJkRm9ybS5xdWVyeVNlbGVjdG9yKFwiI2ltYWdlLXVybC1pbnB1dFwiKTtcbmNvbnN0IG1vZGFsRGl2cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWxcIik7XG5cbmNvbnN0IHByb2ZpbGVFZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWVkaXQtYnV0dG9uXCIpO1xuY29uc3QgcHJvZmlsZUVkaXRDbG9zZUJ1dHRvbiA9IHByb2ZpbGVFZGl0TW9kYWwucXVlcnlTZWxlY3RvcihcbiAgXCIjcHJvZmlsZS1lZGl0LWNsb3NlLWJ1dHRvblwiXG4pO1xuY29uc3QgYWRkTmV3Q2FyZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ1dHRvblwiKTtcbmNvbnN0IGFkZENhcmRDbG9zZUJ1dHRvbiA9IGFkZENhcmRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiI2FkZC1jYXJkLWNsb3NlLWJ1dHRvblwiKTtcbmNvbnN0IHByZXZpZXdJbWFnZUNsb3NlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgXCIjcHJldmlldy1pbWFnZS1jbG9zZS1idXR0b25cIlxuKTtcblxuY29uc3QgcHJvZmlsZUVkaXRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICBcIiNwcm9maWxlLWVkaXQtbW9kYWxcIixcbiAgKGZvcm1EYXRhKSA9PiB7XG4gICAgdXNlckluZm8uc2V0VXNlckluZm8oe1xuICAgICAgbmFtZTogZm9ybURhdGFbXCJuYW1lXCJdLFxuICAgICAgdGl0bGU6IGZvcm1EYXRhW1widGl0bGVcIl0sXG4gICAgfSk7XG4gICAgcHJvZmlsZUVkaXRQb3B1cC5jbG9zZSgpO1xuICB9XG4pO1xuXG5hZGROZXdDYXJkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBuZXdDYXJkUG9wdXAub3BlbigpKTtcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1lZGl0LWJ1dHRvblwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBjb25zdCB7IG5hbWUsIHRpdGxlIH0gPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xuICBwcm9maWxlTmFtZUlucHV0LnZhbHVlID0gbmFtZTtcbiAgcHJvZmlsZVRpdGxlSW5wdXQudmFsdWUgPSB0aXRsZTtcbiAgcHJvZmlsZUVkaXRQb3B1cC5vcGVuKCk7XG59KTtcblxuY29uc3QgZWRpdEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihcbiAgcHJvZmlsZUVkaXRGb3JtLFxuICB2YWxpZGF0aW9uU2V0dGluZ3Ncbik7XG5jb25zdCBhZGRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoYWRkQ2FyZEZvcm0sIHZhbGlkYXRpb25TZXR0aW5ncyk7XG5hZGRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbmVkaXRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuY29uc3QgaGFuZGxlRm9ybVN1Ym1pdCA9IChmb3JtRGF0YSkgPT4ge1xuICBjb25zdCBuYW1lID0gZm9ybURhdGEudGl0bGU7XG4gIGNvbnN0IGxpbmsgPSBmb3JtRGF0YS51cmw7XG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gY3JlYXRlQ2FyZCh7IG5hbWUsIGxpbmsgfSk7XG4gIHNlY3Rpb24uYWRkSXRlbShjYXJkRWxlbWVudCk7XG59O1xuXG5jb25zdCBuZXdDYXJkUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcIiNhZGQtY2FyZC1tb2RhbFwiLCBoYW5kbGVGb3JtU3VibWl0KTtcbm5ld0NhcmRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5wcm9maWxlRWRpdFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IHByZXZpZXdJbWFnZU1vZGFsID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiI3ByZXZpZXctaW1hZ2UtbW9kYWxcIik7XG5wcmV2aWV3SW1hZ2VNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5mdW5jdGlvbiBoYW5kbGVJbWFnZUNsaWNrKG5hbWUsIGxpbmspIHtcbiAgcHJldmlld0ltYWdlTW9kYWwub3Blbih7IG5hbWUsIGxpbmsgfSk7XG59XG5cbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcbiAgcHJvZmlsZU5hbWVTZWxlY3RvcjogXCIucHJvZmlsZV9fbmFtZVwiLFxuICB0aXRsZVNlbGVjdG9yOiBcIi5wcm9maWxlX190aXRsZVwiLFxufSk7XG5cbmZ1bmN0aW9uIHJlbmRlckNhcmQoY2FyZERhdGEsIGNhcmRMaXN0RWwpIHtcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjcmVhdGVDYXJkKGNhcmREYXRhKTtcbiAgY2FyZExpc3RFbC5wcmVwZW5kKGNhcmRFbGVtZW50KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQ2FyZChpdGVtKSB7XG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gbmV3IENhcmQoaXRlbSwgXCIjY2FyZC10ZW1wbGF0ZVwiLCBoYW5kbGVJbWFnZUNsaWNrKTtcbiAgLy8gbmV3IHN0dWZmXG4gIHJldHVybiBjYXJkRWxlbWVudC5nZXRWaWV3KCk7XG59XG5cbmNvbnN0IHNlY3Rpb24gPSBuZXcgU2VjdGlvbih7IGl0ZW1zOiBpbml0aWFsQ2FyZHMsIHJlbmRlcmVyIH0sIFwiLmNhcmRzXCIpO1xuXG5mdW5jdGlvbiByZW5kZXJlcihpdGVtKSB7XG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gY3JlYXRlQ2FyZChpdGVtKTtcbiAgc2VjdGlvbi5hZGRJdGVtKGNhcmRFbGVtZW50KTtcbn1cblxuc2VjdGlvbi5yZW5kZXJJdGVtcygpO1xuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5faW1hZ2UgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIiNtb2RhbC1pbWFnZVwiKTtcbiAgICB0aGlzLl9jYXB0aW9uID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBcIiNtb2RhbC1wcmV2aWV3LWltYWdlLXRpdGxlXCJcbiAgICApO1xuICB9XG5cbiAgb3BlbihkYXRhKSB7XG4gICAgdGhpcy5faW1hZ2Uuc3JjID0gZGF0YS5saW5rO1xuICAgIHRoaXMuX2ltYWdlLmFsdCA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9jYXB0aW9uLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQb3B1cFdpdGhJbWFnZTtcbiIsImNsYXNzIFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3IoeyBwcm9maWxlTmFtZVNlbGVjdG9yLCB0aXRsZVNlbGVjdG9yIH0pIHtcbiAgICB0aGlzLl9wcm9maWxlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJvZmlsZU5hbWVTZWxlY3Rvcik7XG4gICAgdGhpcy5fcHJvZmlsZVRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aXRsZVNlbGVjdG9yKTtcbiAgfVxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogdGhpcy5fcHJvZmlsZU5hbWUudGV4dENvbnRlbnQsXG4gICAgICB0aXRsZTogdGhpcy5fcHJvZmlsZVRpdGxlLnRleHRDb250ZW50LFxuICAgIH07XG4gIH1cblxuICBzZXRVc2VySW5mbyh7IG5hbWUsIHRpdGxlIH0pIHtcbiAgICB0aGlzLl9wcm9maWxlTmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgdGhpcy5fcHJvZmlsZVRpdGxlLnRleHRDb250ZW50ID0gdGl0bGU7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVXNlckluZm87XG4iLCJjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XG4gIH1cblxuICAvLyBQdWJsaWMgbWV0aG9kIHRvIHJlbmRlciBhbGwgaXRlbXNcbiAgcmVuZGVySXRlbXMoKSB7XG4gICAgdGhpcy5faXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XG4gICAgfSk7XG4gIH1cblxuICAvLyBQdWJsaWMgbWV0aG9kIHRvIGFkZCBhIHNpbmdsZSBpdGVtIHRvIHRoZSBjb250YWluZXJcbiAgYWRkSXRlbShlbGVtZW50KSB7XG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU2VjdGlvbjtcbiJdLCJuYW1lcyI6WyJDYXJkIiwiY29uc3RydWN0b3IiLCJfcmVmIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlSW1hZ2VDbGljayIsIm5hbWUiLCJsaW5rIiwidGhpcyIsIl9uYW1lIiwiX2xpbmsiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUltYWdlQ2xpY2siLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJfY2FyZEVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9oYW5kbGVMaWtlSWNvbiIsIl9oYW5kbGVEZWxldGVDYXJkIiwiX2NhcmRJbWFnZUVsIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwicmVtb3ZlIiwiZ2V0VmlldyIsImRvY3VtZW50IiwiY29udGVudCIsImNsb25lTm9kZSIsInNyYyIsImFsdCIsIl9jYXJkVGl0bGVFbCIsInRleHRDb250ZW50IiwiRm9ybVZhbGlkYXRvciIsImZvcm1FbGVtZW50Iiwic2V0dGluZ3MiLCJfZm9ybUVsIiwiX2Zvcm1TZWxlY3RvciIsImZvcm1TZWxlY3RvciIsIl9pbnB1dFNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJpbnB1dEVsIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9zaG93SW5wdXRFcnJvciIsIl9oaWRlSW5wdXRFcnJvciIsImVycm9yTWVzc2FnZUVsIiwiaWQiLCJhZGQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJfaW5wdXRFbHMiLCJzb21lIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiZGlzYWJsZUJ1dHRvbiIsIl9lbmFibGVCdXR0b24iLCJfc3VibWl0QnV0dG9uIiwiZGlzYWJsZWQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImUiLCJlbmFibGVWYWxpZGF0aW9uIiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXBFbGVtZW50IiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsIm9wZW4iLCJjbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJrZXkiLCJzZXRFdmVudExpc3RlbmVycyIsInRhcmdldCIsImNvbnRhaW5zIiwiaGFuZGxlRm9ybVN1Ym1pdCIsInN1cGVyIiwiX3BvcHVwRm9ybSIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX2lucHV0TGlzdCIsIl9nZXRJbnB1dFZhbHVlcyIsImZvcm1WYWx1ZXMiLCJpbnB1dCIsInZhbHVlIiwiZXZlbnQiLCJmb3JtRGF0YSIsInJlc2V0IiwidmFsaWRhdGlvblNldHRpbmdzIiwicHJvZmlsZU5hbWVJbnB1dCIsInByb2ZpbGVUaXRsZUlucHV0IiwicHJvZmlsZUVkaXRNb2RhbCIsInByb2ZpbGVFZGl0Rm9ybSIsImFkZENhcmRNb2RhbCIsImFkZENhcmRGb3JtIiwiYWRkTmV3Q2FyZEJ1dHRvbiIsImZpcnN0RWxlbWVudENoaWxkIiwicHJvZmlsZUVkaXRQb3B1cCIsIlBvcHVwV2l0aEZvcm0iLCJ1c2VySW5mbyIsInNldFVzZXJJbmZvIiwidGl0bGUiLCJuZXdDYXJkUG9wdXAiLCJnZXRVc2VySW5mbyIsImVkaXRGb3JtVmFsaWRhdG9yIiwiY2FyZEVsZW1lbnQiLCJjcmVhdGVDYXJkIiwidXJsIiwic2VjdGlvbiIsImFkZEl0ZW0iLCJwcmV2aWV3SW1hZ2VNb2RhbCIsIl9pbWFnZSIsIl9jYXB0aW9uIiwiZGF0YSIsInByb2ZpbGVOYW1lU2VsZWN0b3IiLCJ0aXRsZVNlbGVjdG9yIiwiX3Byb2ZpbGVOYW1lIiwiX3Byb2ZpbGVUaXRsZSIsIl9yZWYyIiwiaXRlbSIsImNvbnRhaW5lclNlbGVjdG9yIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9pdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJyZW5kZXJJdGVtcyIsImVsZW1lbnQiLCJwcmVwZW5kIl0sInNvdXJjZVJvb3QiOiIifQ==